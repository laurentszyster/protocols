<html><!-- Copyright (C) 2007 Laurent A.V. Szyster - Copylef GPL 2.0 -->
<head>
  <title>protocols.js > HTML</title>
  <link href="site.css" type="text/css" rel="stylesheet"></link>
  <link href="protocols.css" type="text/css" rel="stylesheet"></link>
  <script src="firebug.js" type="text/javascript"></script>
</head>

<body>

<div>  
  <h1><a href="index.html">protocols.js</a></h1>
  <div class="menu">
    <a 
      href="documentation.html"
      >Documentation</a>.<a 
      href="functions.html">Functions</a><a 
      href="HTTP.html">HTTP</a><a 
      href="CSS.html">CSS</a><a 
      href="JSON.html">JSON</a>
  </div>
  <h2>HyperText Markup Language (HTML)</h2>
  <ol>
    <li><a href="#HTML.cdata">cdata (string)</a></li>
    <li><a href="#HTML.text">text (element)</a></li>
    <li><a href="#HTML.input">input (element)</a></li>
    <li><a href="#HTML.update">update (element, html)</a></li>
    <li><a href="#HTML.replace">replace (element, html)</a></li>
    <li><a href="#HTML.insert">insert (element, html, adjacency)</a></li>
    <li><a href="#HTML.bind">bind (element, type, fun)</a></li>
    <li><a href="#HTML.listen">listen (element, type, fun)</a></li>
  </ol>
  <p>
    Learning and depending on every <a 
    href="http://www.w3.org/TR/1999/REC-html401-19991224/"
    >HTML</a> document object model APIs is far more costly than mastering 
    once the protocol itself. And practically it is also a lot more 
    efficient and reliable to directly &quot;write&quot; hypertext markup and 
    let each browser parse, instanciate a DOM and render it. 
  </p>
  <p>
    The eight methods of <code>HTML</code> provide just enough support for the 
    most common manipulations of an interactive web page: replace an element, 
    update an element content and insert HTML markup before or after the 
    beginning or the end of an element; attach event listeners; build a query 
    string from HTML form input values; get an element's CDATA text only; 
    escape text as valid CDATA.
  </p>
  <p>
    Many web applications can use these methods only, most entreprise
    applications will. 
  </p>
  <h3><a name="HTML.cdata" href="#">HTML.cdata (string)</a></h3>
  <p>
    ...
  </p>
  <pre
    class="synopsis" 
    onclick="{HTML.update ($('html_cdata'), eval_synopsis(this));}" 
    >HTML.cdata('&lt;tag name=&quot;value&quot; /&gt;')</pre>
  <div id="html_cdata" class="test">...</div>
  <p>
    ...
  </p>
  <h3><a name="HTML.text" href="#">HTML.text (element)</a></h3>
  <p>
    ...
  </p>
  <pre
    class="synopsis" 
    onclick="{HTML.update ($('html_text'), eval_synopsis(this));}" 
    >HTML.text($$('ol')[0]);</pre>
  <div id="html_text" class="test">...</div>
  <p>
    ...
  </p>
  <h3><a name="HTML.input" href="#"
  >HTML.input (elements, query)</a></h3>
  <p>
    ...
  </p>
  <div class="test">
    <form>Hello <input name="hello" type="text" value="world" /> !</form>
  </div>
  <pre
    class="synopsis" 
    onclick="{HTML.update ($('html_input'), JSON.encode(eval_synopsis(this)));}" 
    >HTML.input($$('form'), {});</pre>
  <div id="html_input" class="test">...</div>
  <p>
    ...
  </p>
  <h3><a name="HTML.update" href="#"
  >HTML.update (element, html)</a></h3>
  <p>
    ...
  </p>
  <h3><a name="HTML.replace" href="#"
  >HTML.replace (element, html)</a></h3>
  <p>
    ...
  </p>
  <h3><a name="HTML.insert" href="#"
  >HTML.insert (element, html, adjacency)</a></h3>
  <p>
    ...
  </p>
  <h3><a name="HTML.bind" href="#"
  >HTML.bind (element, type, fun)</a></h3>
  <p>
    Bind a function to an element as a listener to event of a given type. 
  </p>
  <pre class="synospis" onclick="eval_synopsis(this);"
    >HTML.bind($('html_bind_foobar'), 'click', function (event) {
    alert(this.innerHTML);
    return true;
    });</pre>
  <div id="html_bind_foobar" class="test">
    Click here to send an event to the attached listener.
  </div>
  <p>
    Note how <code>this</code> in the bound function refers to the 
    <code>element</code> it was binded to.
  </p>
  <h3><a name="HTML.listen" href="#"
  >HTML.listen (element, type, fun)</a></h3>
  <p>
    ...
  </p>
  <pre class="synospis" onclick="eval_synopsis(this);"
    >HTML.listen($('html_listen_foobar'), 'click', bindAsEventListener (
    {"hello": "World!"}, function (event) {
        alert(JSON.encode(this));
        return true;
    }
    ));</pre>
  <div id="html_listen_foobar" class="test">
    Click here to send an event to the attached listener.
  </div>
</div>
<script src="protocols.js" type="text/javascript"></script>
<script src="tests.js" type="text/javascript"></script>
</body>
</html>